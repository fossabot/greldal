<!DOCTYPE html><html><head><meta charSet="utf-8" class="next-head"/><link rel="preload" href="/_next/static/5lncA_Qj8hiUOSp3ezBCc/pages/associations.js" as="script"/><link rel="preload" href="/_next/static/5lncA_Qj8hiUOSp3ezBCc/pages/_app.js" as="script"/><link rel="preload" href="/_next/static/5lncA_Qj8hiUOSp3ezBCc/pages/_error.js" as="script"/><link rel="preload" href="/_next/static/runtime/webpack-1831ee303495fbc2dd7e.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.b1bc72a1a29e371785f4.js" as="script"/><link rel="preload" href="/_next/static/runtime/main-ad6160a559faa821dcf9.js" as="script"/><link rel="stylesheet" href="/_next/static/css/commons.ff55a398.chunk.css"/><style id="__jsx-1332865318">body{font-size:14px;line-height:22px;background:#fefffc;o:#000;font-family:Helvetica Neue,Helvetica,Arial;}
#container h5,#container h6{font-size:0.8rem !important;font-weight:600;}</style><style id="__jsx-642886725">#container.jsx-3264866282{width:550px;margin:40px 0 50px 340px;}</style><style id="__jsx-2659902058">#sidebar{background:#fff;position:fixed;top:0;left:0;bottom:0;width:250px;overflow-y:auto;overflow-x:auto;padding:10px 30px 30px 30px;border-right:1px solid #bbb;box-shadow:0 0 20px #ccc;}
#sidebar a,#sidebar a:visited{display:block;color:#000;font-weight:700;margin-top:5px;-webkit-text-decoration:none;text-decoration:none;}
.toc-children{margin:10px 0 0;border-left:3px solid #ddd;padding-left:10px;}
#sidebar h1,#sidebar h2,#sidebar h3,#sidebar h4,#sidebar h5,#sidebar h6{font-size:0.75rem !important;font-weight:600;}</style></head><body><div id="__next"><div class="jsx-3264866282" data-reactroot=""><div id="sidebar" class="jsx-2659902058"><div style="padding-bottom:10px;display:flex;flex-direction:row;cursor:pointer" class="jsx-2659902058"><img src="/greldal/_next/static/images/81342499647d5509de6dd828ff74969e.png" style="height:50px" class="jsx-2659902058"/><div style="font-weight:600;font-size:2rem;line-height:50px;padding-left:10px" class="jsx-2659902058">GRelDAL</div></div><hr class="jsx-2659902058"/><a href="/greldal/">⚡ Quick Start</a><a href="/greldal/associations/">⚡ Associations</a><a href="/greldal/mapping-customizations/">⚡ Customizing Mapping of Tables</a><hr class="jsx-2659902058"/><a href="#associations"><h1><a href="#associations" aria-hidden="true"><span class="icon icon-link"></span></a>Associations</h1></a><div class="toc-children"></div><a href="#associations-fetched-through-join-queries"><h3><a href="#associations-fetched-through-join-queries" aria-hidden="true"><span class="icon icon-link"></span></a>Associations fetched through join queries</h3></a><div class="toc-children"></div><a href="#associations-fetched-through-batch-queries"><h3><a href="#associations-fetched-through-batch-queries" aria-hidden="true"><span class="icon icon-link"></span></a>Associations fetched through batch queries:</h3></a><div class="toc-children"></div></div><div id="container" class="jsx-3264866282"><div><h1 id="associations"><a href="#associations" aria-hidden="true"><span class="icon icon-link"></span></a>Associations</h1><p>While data sources derived from a single tables are useful in themselves, in larger applications, you&#x27;d likely have data stored across multiple tables.</p><p>GRelDAL makes it easy for you to take advantage of advanced features of relational databases, by providing APIs to link data sources through different loading strategies.</p><h3 id="associations-fetched-through-join-queries"><a href="#associations-fetched-through-join-queries" aria-hidden="true"><span class="icon icon-link"></span></a>Associations fetched through join queries</h3><pre><code class="hljs language-ts" metaString=""><span class="hljs-keyword">const</span> products = mapDataSource({
    name: <span class="hljs-string">&quot;Product&quot;</span>,
    fields,
    associations: {
        department: {
            target: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> departments,
            singular: <span class="hljs-literal">true</span>,
            fetchThrough: [
                {
                    join: <span class="hljs-string">&quot;leftOuterJoin&quot;</span>,
                },
            ],
            associatorColumns: {
                inSource: <span class="hljs-string">&quot;department_id&quot;</span>,
                inRelated: <span class="hljs-string">&quot;id&quot;</span>,
            },
        },
    },
});</code></pre><h3 id="associations-fetched-through-batch-queries"><a href="#associations-fetched-through-batch-queries" aria-hidden="true"><span class="icon icon-link"></span></a>Associations fetched through batch queries:</h3><pre><code class="hljs language-js" metaString=""><span class="hljs-keyword">const</span> departments = mapDataSource({
    <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;Department&quot;</span>,
    fields,
    <span class="hljs-attr">associations</span>: {
        <span class="hljs-attr">products</span>: {
            <span class="hljs-attr">target</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> products,
            <span class="hljs-attr">singular</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">associatorColumns</span>: {
                <span class="hljs-attr">inSource</span>: <span class="hljs-string">&quot;id&quot;</span>,
                <span class="hljs-attr">inRelated</span>: <span class="hljs-string">&quot;department_id&quot;</span>,
            },
            <span class="hljs-attr">fetchThrough</span>: [
                {
                    useIf(operation) {
                        <span class="hljs-keyword">return</span> has(operation.args, [<span class="hljs-string">&quot;where&quot;</span>, <span class="hljs-string">&quot;id&quot;</span>]);
                    },
                    preFetch(operation) {
                        <span class="hljs-keyword">const</span> department_id: string = operation.args.where.id;
                        <span class="hljs-keyword">return</span> {
                            <span class="hljs-attr">query</span>: findManyProducts,
                            <span class="hljs-attr">args</span>: {
                                <span class="hljs-attr">where</span>: {
                                    department_id,
                                },
                            },
                        };
                    },
                },
                {
                    postFetch(operation, parents) {
                        <span class="hljs-keyword">return</span> {
                            <span class="hljs-attr">query</span>: findManyProductsByDepartmentIdList,
                            <span class="hljs-attr">args</span>: {
                                <span class="hljs-attr">department_ids</span>: map(parents, <span class="hljs-string">&quot;id&quot;</span>),
                            },
                        };
                    },
                },
            ],
        },
    },
});</code></pre></div></div></div></div><script>__NEXT_DATA__ = {"props":{"pageProps":{}},"page":"/associations","query":{},"buildId":"5lncA_Qj8hiUOSp3ezBCc","nextExport":true};__NEXT_LOADED_PAGES__=[];__NEXT_REGISTER_PAGE=function(r,f){__NEXT_LOADED_PAGES__.push([r, f])}</script><script async="" id="__NEXT_PAGE__/associations" src="/_next/static/5lncA_Qj8hiUOSp3ezBCc/pages/associations.js"></script><script async="" id="__NEXT_PAGE__/_app" src="/_next/static/5lncA_Qj8hiUOSp3ezBCc/pages/_app.js"></script><script async="" id="__NEXT_PAGE__/_error" src="/_next/static/5lncA_Qj8hiUOSp3ezBCc/pages/_error.js"></script><script src="/_next/static/runtime/webpack-1831ee303495fbc2dd7e.js" async=""></script><script src="/_next/static/chunks/commons.b1bc72a1a29e371785f4.js" async=""></script><script src="/_next/static/runtime/main-ad6160a559faa821dcf9.js" async=""></script></body></html>